(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-register-register"],{"08f4":function(e,t,n){"use strict";n.r(t);var s=n("f037"),a=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);t["default"]=a.a},"20fb":function(e,t,n){"use strict";n.r(t);var s=n("59b5"),a=n("08f4");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("5dd5");var i=n("2877"),r=Object(i["a"])(a["default"],s["a"],s["b"],!1,null,"12eb012b",null);t["default"]=r.exports},"59b5":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-form",{staticClass:"content",on:{submit:function(t){t=e.$handleEvent(t),e.register(t)}}},[n("v-uni-view",{staticClass:"input-group"},[n("v-uni-view",{staticClass:"input-row border"},[n("v-uni-text",{staticClass:"title"},[e._v("手  机  号：")]),n("m-input",{attrs:{type:"number",focus:"",clearable:"",maxlength:"11",placeholder:"请输入11位手机号"},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1),n("v-uni-view",{staticClass:"input-row border"},[n("v-uni-text",{staticClass:"title"},[e._v("密        码：")]),n("m-input",{attrs:{type:"password",displayable:"",maxlength:"16",placeholder:"至少8~16位数字与字母组合"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-uni-view",{staticClass:"input-row border"},[n("v-uni-text",{staticClass:"title"},[e._v("确认密码：")]),n("m-input",{attrs:{type:"password",displayable:"",maxlength:"16",placeholder:"请输入密码"},model:{value:e.checkPassword,callback:function(t){e.checkPassword=t},expression:"checkPassword"}})],1)],1),n("v-uni-view",{staticClass:"btn-row"},[n("v-uni-button",{staticClass:"primary",attrs:{type:"primary",formType:"submit"}},[e._v("注册")])],1)],1)},a=[];n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a})},"5dd5":function(e,t,n){"use strict";var s=n("e20c"),a=n.n(s);a.a},c142:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".content[data-v-12eb012b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#efeff4}",""])},e20c:function(e,t,n){var s=n("c142");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=n("4f06").default;a("365fd3e8",s,!0,{sourceMap:!1,shadowMode:!1})},f037:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("58cc")),a=r(n("8030")),o=r(n("a35e")),i=n("0f52");function r(e){return e&&e.__esModule?e:{default:e}}var l={components:{mInput:s.default},data:function(){return{account:"",password:""}},methods:{register:function(){var e=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,}$/;if(11==this.account.length)if(/^1(3|4|5|7|8)\d{9}$/.test(this.account))if(this.password.length<8)uni.showToast({icon:"none",title:"密码最短为 8 个字符"});else if(e.test(this.password))if(this.password==this.checkPassword){var t=this,n=o.default.urls.register,s={phone:t.account,password:(0,i.hex_md5)(t.password)};o.default.req.post(n,s,function(e){if(0===e.code){uni.showToast({icon:"none",title:"注册成功"});var n={phone:t.account,password:t.password},s=o.default.urls.login,r={phone:n.phone,password:(0,i.hex_md5)(n.password)};o.default.req.get(s,r,function(e){if(0===e.code){a.default.commit("login",{token:e.data,phone:r.phone,password:r.password}),uni.showToast({icon:"none",title:"登陆成功"});var t=o.default.urls.getSelfUserInfo,n={};o.default.req.get(t,n,function(e){if(0===e.code){var t=o.default.urls.getHead,n={};o.default.req.get(t,n,function(t){if(0===t.code){var n=e.data;n.headUrl=t.data,delete n.password,a.default.commit("saveUserInfo",n),uni.navigateBack()}else{var s=e.data;s.headUrl="/static/icons/logo.png",delete s.password,a.default.commit("saveUserInfo",s),uni.navigateBack()}})}else uni.showModal({content:e.msg,showCancel:!1})})}else uni.showModal({content:e.msg,showCancel:!1})}),uni.reLaunch({url:"../../../pages/my/my"})}else uni.showModal({content:e.msg,showCancel:!1})})}else uni.showToast({icon:"none",title:"两次密码不一致"});else uni.showToast({icon:"none",title:"密码必须为字母和数字的组合"});else uni.showToast({icon:"none",title:"手机号只能为11位数字"});else uni.showToast({icon:"none",title:"请检查手机号是否正确"})}}};t.default=l}}]);